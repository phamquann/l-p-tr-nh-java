<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${isEdit} ? '‚úèÔ∏è Ch·ªânh S·ª≠a S√°ch - HUTECH' : '‚ûï Th√™m S√°ch M·ªõi - HUTECH'"></title>
    <th:block th:replace="~{layout::link-css}"></th:block>
    <th:block th:replace="~{layout::custom-css}"></th:block>
</head>

<body>

<th:block th:replace="~{layout::header}"></th:block>

<div class="container">
    <!-- Page Header -->
    <div class="form-header">
        <h1 class="page-title" th:text="${isEdit} ? '‚úèÔ∏è Ch·ªânh S·ª≠a Th√¥ng Tin S√°ch' : '‚ûï Th√™m S√°ch M·ªõi'"></h1>
        <p class="page-description" th:text="${isEdit} ? 'C·∫≠p nh·∫≠t th√¥ng tin s√°ch trong h·ªá th·ªëng' : 'Th√™m m·ªôt quy·ªÉn s√°ch m·ªõi v√†o th∆∞ vi·ªán'"></p>
    </div>

    <!-- Form Container -->
    <div class="form-container">
        <form th:action="${isEdit} ? @{/books/edit/{id}(id=${book.id})} : @{/books/add}" 
              th:object="${book}" 
              method="post" 
              class="book-form">
            
            <!-- T√™n S√°ch -->
            <div class="form-group">
                <label for="title" class="form-label">
                    üìö T√™n S√°ch <span class="required">*</span>
                </label>
                <input type="text" 
                       th:field="*{title}" 
                       id="title" 
                       class="form-control"
                       th:classappend="${#fields.hasErrors('title')} ? 'is-invalid' : ''"
                       placeholder="Nh·∫≠p t√™n s√°ch..."
                       required>
                <div th:if="${#fields.hasErrors('title')}" 
                     class="invalid-feedback"
                     th:errors="*{title}"></div>
            </div>

            <!-- T√°c Gi·∫£ -->
            <div class="form-group">
                <label for="author" class="form-label">
                    ‚úçÔ∏è T√°c Gi·∫£ <span class="required">*</span>
                </label>
                <input type="text" 
                       th:field="*{author}" 
                       id="author" 
                       class="form-control"
                       th:classappend="${#fields.hasErrors('author')} ? 'is-invalid' : ''"
                       placeholder="Nh·∫≠p t√™n t√°c gi·∫£..."
                       required>
                <div th:if="${#fields.hasErrors('author')}" 
                     class="invalid-feedback"
                     th:errors="*{author}"></div>
            </div>

            <!-- Row: Gi√° v√† Th·ªÉ Lo·∫°i -->
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="price" class="form-label">
                            üí∞ Gi√° (VNƒê) <span class="required">*</span>
                        </label>
                        <input type="number" 
                               th:field="*{price}" 
                               id="price" 
                               class="form-control"
                               th:classappend="${#fields.hasErrors('price')} ? 'is-invalid' : ''"
                               placeholder="Nh·∫≠p gi√° s√°ch..."
                               step="0.01"
                               min="0.01"
                               required>
                        <div th:if="${#fields.hasErrors('price')}" 
                             class="invalid-feedback"
                             th:errors="*{price}"></div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="form-group">
                        <label for="category" class="form-label">
                            üè∑Ô∏è Th·ªÉ Lo·∫°i <span class="required">*</span>
                        </label>
                        <select th:field="*{category}" 
                                id="category" 
                                class="form-control form-select"
                                th:classappend="${#fields.hasErrors('category')} ? 'is-invalid' : ''"
                                required>
                            <option value="">-- Ch·ªçn th·ªÉ lo·∫°i --</option>
                            <option value="C√¥ng ngh·ªá th√¥ng tin">C√¥ng ngh·ªá th√¥ng tin</option>
                            <option value="VƒÉn h·ªçc">VƒÉn h·ªçc</option>
                            <option value="Khoa h·ªçc">Khoa h·ªçc</option>
                            <option value="Kinh t·∫ø">Kinh t·∫ø</option>
                            <option value="K·ªπ nƒÉng m·ªÅm">K·ªπ nƒÉng m·ªÅm</option>
                            <option value="L·ªãch s·ª≠">L·ªãch s·ª≠</option>
                            <option value="Tri·∫øt h·ªçc">Tri·∫øt h·ªçc</option>
                            <option value="Ngh·ªá thu·∫≠t">Ngh·ªá thu·∫≠t</option>
                            <option value="Kh√°c">Kh√°c</option>
                        </select>
                        <div th:if="${#fields.hasErrors('category')}" 
                             class="invalid-feedback"
                             th:errors="*{category}"></div>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="form-actions">
                <a href="/books" class="btn btn-secondary">
                    ‚óÄÔ∏è Quay l·∫°i
                </a>
                <button type="submit" class="btn btn-primary">
                    <span th:text="${isEdit} ? 'üíæ C·∫≠p nh·∫≠t' : '‚ûï Th√™m m·ªõi'"></span>
                </button>
            </div>
        </form>
    </div>

    <!-- Info Box -->
    <div class="info-box">
        <h5>üìå L∆∞u √Ω:</h5>
        <ul>
            <li>C√°c tr∆∞·ªùng c√≥ d·∫•u <span class="required">*</span> l√† b·∫Øt bu·ªôc</li>
            <li>Gi√° s√°ch ph·∫£i l·ªõn h∆°n 0</li>
            <li>T√™n s√°ch v√† t√°c gi·∫£ ph·∫£i t·ª´ 2-200 k√Ω t·ª±</li>
            <li>Ki·ªÉm tra k·ªπ th√¥ng tin tr∆∞·ªõc khi l∆∞u</li>
        </ul>
    </div>
</div>

<th:block th:replace="~{layout::footer}"></th:block>

</body>
</html>
